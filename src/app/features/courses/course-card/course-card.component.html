<!-- course-card.component.html -->
<div class="course-card" 
     [class.course-card--locked]="course.isLocked"
     [class.course-card--completed]="course.progress === 100"
     (click)="onCardClick()"
     [@cardAnimation]
     dir="rtl">
     
  <!-- Abstract Background when no image -->
  <div class="course-card__background">
    <ng-container *ngIf="!course.imageSrc">
      <div class="course-card__abstract-bg"></div>
      <div class="course-card__abstract-circle course-card__abstract-circle--1"></div>
      <div class="course-card__abstract-circle course-card__abstract-circle--2"></div>
    </ng-container>
    
    <ng-container *ngIf="course.imageSrc">
      <img [src]="course.imageSrc" [alt]="course.title">
    </ng-container>
    
    <div class="course-card__overlay"></div>
  </div>

  <!-- Content -->
  <div class="course-card__content">
    <!-- Header -->
    <div class="course-card__header">
      <h3 class="course-card__title">{{ course.title }}</h3>
      <p class="course-card__description">{{ course.description }}</p>
    </div>

    <!-- Lock Badge -->
    <div class="course-card__lock-badge" *ngIf="course.isLocked">
      <i class="fas fa-lock"></i>
    </div>

    <!-- Achievement Badge -->
    <div class="course-card__achievement" *ngIf="course.badge">
      <i class="fas" 
         [class.fa-star]="course.badge.type === 'achievement'"
         [class.fa-medal]="course.badge.type === 'progress'">
      </i>
      <span>{{ course.badge.value }}</span>
    </div>

    <!-- Footer -->
    <div class="course-card__footer">
      <!-- Progress Section -->
      <div class="course-card__progress" *ngIf="!course.isLocked && course.progress !== undefined">
        <div class="progress-bar">
          <div class="progress-bar__fill" 
               [style.width.%]="course.progress">
          </div>
        </div>
        <span class="progress-bar__text">{{ course.progress }}%</span>
      </div>

      <!-- Play Button -->
      <div class="course-card__play" *ngIf="!course.isLocked">
        <i class="fas fa-play"></i>
      </div>
    </div>
  </div>
</div>