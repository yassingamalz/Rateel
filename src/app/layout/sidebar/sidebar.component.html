<!-- sidebar.component.html -->
<aside class="sidebar" 
       [@sidebarState]="isCollapsed ? 'collapsed' : 'expanded'"
       [class.sidebar--mobile]="isMobile"
       dir="rtl">
  
  <div class="sidebar__header">
    <button class="sidebar__toggle" 
            (click)="toggleSidebar()"
            [attr.aria-label]="isCollapsed ? 'Expand sidebar' : 'Collapse sidebar'">
      <i class="fas" 
         [class.fa-bars]="isCollapsed" 
         [class.fa-times]="!isCollapsed">
      </i>
    </button>
  </div>

  <nav class="sidebar__menu">
    <a *ngFor="let item of menuItems; trackBy: trackByFn" 
       [routerLink]="item.path"
       routerLinkActive="sidebar__menu-item--active"
       class="sidebar__menu-item"
       [attr.aria-label]="item.label">
       
      <span class="sidebar__menu-item-label" 
            [@contentFade]="isCollapsed ? 'hidden' : 'visible'">
        {{item.label}}
      </span>
      
      <div class="sidebar__menu-item-icon">
        <i class="fas fa-{{item.icon}}"></i>
        <span class="sidebar__menu-item-badge" 
              *ngIf="item.count"
              [@contentFade]="isCollapsed ? 'hidden' : 'visible'">
          {{item.count}}
        </span>
      </div>
    </a>
  </nav>
</aside>