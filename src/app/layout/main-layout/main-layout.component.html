<!-- main-layout.component.html -->
<div class="main-layout" dir="rtl" #mainContainer>
  <!-- Only create sidebar DOM element if not hidden -->
  <ng-container *ngIf="(shouldShowSidebar$ | async)">
    <app-sidebar 
      [isMobile]="isMobile"
      [isCollapsed]="isSidebarCollapsed"
      [class.sidebar--collapsed]="isSidebarCollapsed"
      (collapse)="onSidebarCollapse($event)">
    </app-sidebar>
  </ng-container>
  
  <main class="main-content" 
    [class.no-sidebar]="!(shouldShowSidebar$ | async)"
    [class.mobile]="isMobile">
    <div class="content-wrapper">
      <router-outlet></router-outlet>
    </div>
  </main>
</div>